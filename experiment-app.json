{
    "title": "Após o pod da aplicação ser derrubado ele voltará ao ar em menos de 10 segundos?",
    "description": "Esperamos que o pod da aplicação volte ao ar em menos de 10 segundos",
    "tags": ["kubernetes", "springapp"],
    "steady-state-hypothesis": {
        "title": "Verificando se os pods estão disponíveis",
        "probes": [
            {
                "name": "Todos os pods estão no ar?",
                "type": "probe",
                "tolerance": true,
                "provider": {
                    "type": "python",
                    "module": "chaosk8s.probes",
                    "func": "deployment_fully_available",
                    "arguments": {
                        "name": "app",
                        "ns": "aulainfra",
                        "timeout": 20
                    }
                }
            }
        ]
    },
    "method": [
        {
            "type": "action",
            "name": "Derrubando um pod dentro do deployment",
            "provider": {
                "type": "python",
                "module": "chaosk8s.pod.actions",
                "func": "terminate_pods",
                "arguments": {
                    "label_selector": "app=app",
                    "ns": "aulainfra",
                    "qty": 1,
                    "rand": true,
                    "grace_period": 0
                }
            }
        }
    ],
    "secrets": {
        "kubernetes": {
            "KUBERNETES_HOST": "https://teste-k8s-edd5ccfe.hcp.eastus.azmk8s.io:443",
            "KUBERNETES_CERT_FILE": {
                "type": "env",
                "key": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZIVENDQXdXZ0F3SUJBZ0lRS2EvWmx6aTM1UERIeGRpa3VCNkcwekFOQmdrcWhraUc5dzBCQVFzRkFEQU4KTVFzd0NRWURWUVFERXdKallUQWVGdzB5TVRBME1UTXdNVE13TWpOYUZ3MHlNekEwTVRNd01UUXdNak5hTURBeApGekFWQmdOVkJBb1REbk41YzNSbGJUcHRZWE4wWlhKek1SVXdFd1lEVlFRREV3eHRZWE4wWlhKamJHbGxiblF3CmdnSWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUNEd0F3Z2dJS0FvSUNBUUMvWnZwTEdUZEhrSzE3THF6a0VpaXoKelN0M3ArbHFvMituMnJSTzkxUjdTamVleHQvdjg0a1VJYm9ZZ0RScTdBSGt2OTZRTVJvb3JNblVTd0s4YXNNVApoekptRjdicHFnaTN4QXA2M0RqUi9tTUpzcGJqRm9mYXhNb2hTQkIxeFQyenNRbzhmejdyT3FveHZvNUM2MUY3CmFBYXRPVHovbTVmVG0xUk9jQnEvbWoycVQ0aGF5SjlSUEhPMFZ3UnhIbEVyUEh1WFdFSDdickVoRHRJWDZ0SnoKNzNNSXpwdFE3bFN4TFd4Rmh2VnBqeHZmMVppV0p2SXkwZmx3UE1FVWxhS0ZOQjBqTEFlUFIxVmF1Y2dpUWhwSQpxaFZHL0FZK3ZtMUhpRkZtSG5BeGVKWTB1V1FOMEdZV3BlSDhiUTlJVzZ6RjNnWWVtQkpncXRrMktBQU42RGp6CnZHYnIzQXFsakxEUTRMTjRKNjF0RGpmM3huT0xaSVltRENySFFBWWpCM2pXRGNmWURzSkUvMjhRRkkyTGRoU0wKV1hHbWtxdXJBSkYrODI4M1ZyODJod1JnUlQ4ZzdpN3U4NGZ4MmdGbTVZUFJPTWZwZ2xhSERCcVJjcjA0dmVzTwphcXVkZ2ZjRG1xRnB6ZlcvM1NSQnhaMisxMlhtY1ltaXJtb1NLays1ZzlpV21KTWxWM2hwMTRrYUZKNTVYakl2CmwzakF4Q3V5WmJqcjdUb25SZzFlTm5KZjc2K1EvVVBpV08wRGdxdER6V0NMWFp4NkFhOXgreVNkd2Jqb3VRWXoKODltYmVoM1hMQmhkVWhnK2hHSjhQanhvL1l3RVJGdmo2TzM2K2k5YTljQzRxeVpMQm5lSVZEcG5wakswMjhjawpVTUtQUUJxbXZRZWVLemRpLzA4MXRRSURBUUFCbzFZd1ZEQU9CZ05WSFE4QkFmOEVCQU1DQmFBd0V3WURWUjBsCkJBd3dDZ1lJS3dZQkJRVUhBd0l3REFZRFZSMFRBUUgvQkFJd0FEQWZCZ05WSFNNRUdEQVdnQlRqazFZemVtbDYKaGNqVDgybi9DeWUzUXlQeGN6QU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FnRUF3bXlvNEtMTWJPRElLcVVtc3RxagpPdG8yb21FNk9adTJ3a1hXSnRjWk44NUxFSXhnWHBZaGxQalBTWGw1bnVLQ3c4Qk9vb09vaHZ3a2RJMEVRaVdPCmFqa244SkJENU1JNkNCcEwzR2o5ZnVqY1RMVld6SDRPYWFDazZNQzVIUWRFeXVqOTIrWjNjQURJNnJaSUs4WjQKVHMyNlZ4dHZjRXd0NWljVWtnck9xdVhmN2lDUXFZb1R1VVVib2ZkRmEyOGlraDZiOWlpR3RnRXBpUEtYTytBbwpYRTVrNldJcm5uQjlEK04waFRleE5oR3k5ZVFFa2hlZGhQSEhleFcyY1RqdkRoUzNtZzFpT01LVE53V0IvTG5wCklpb1Fqb0JSU3RCckVGS0FWc3RIYmNVRXFrVmYwdm1jd1loYmZYdVYzakJGZ2JVbE5PanJwVm5wSVR5d056WXIKZkZzc2g2aHB5bGplWmJWRmpNanNqZG1GcG5JTUJnQWlZOUVnck1sODVPeStaaVRXRHo4Q1V3Y0VMbXBpTVVsWQpXVkFlUGRZVDFiS3F1cFhIYWxIR21rMENZUWtTaEU2MXVLQkFtNGtTZjhPZ0Fvazc4b1hDR1RUejhrRUxUamN6CkpSWlZPOW5USmRQRm52dks5cWg3QzNVdWFJWWt1c0RzVGZwSzlKbkN0NDVvYjQzbS8xS09xdHVMdElJakNiM08KZjNWbm91V1VKLzdQeGtBeDZZRDZ5eUJtYzJ0Y3JCVlQzaW93b1pad0VUazNEd2dNSmNPcHBEUlBVOG95c3FYRApCWXFTQTNzRE5mOTI0bVFreC9BRzZsNWpRbkcwb09zSWF3RkRiSFc5N1p5MlFqOGl6VXJPdCtXc3IyYnVLQ1hUCjdjeU53bldJYmpEamZheWxGWGdTMG5RPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
            },
            "KUBERNETES_KEY_FILE": {
                "type": "env",
                "key": "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlKS2dJQkFBS0NBZ0VBdjJiNlN4azNSNUN0ZXk2czVCSW9zODByZDZmcGFxTnZwOXEwVHZkVWUwbzNuc2JmCjcvT0pGQ0c2R0lBMGF1d0I1TC9la0RFYUtLekoxRXNDdkdyREU0Y3laaGUyNmFvSXQ4UUtldHc0MGY1akNiS1cKNHhhSDJzVEtJVWdRZGNVOXM3RUtQSDgrNnpxcU1iNk9RdXRSZTJnR3JUazgvNXVYMDV0VVRuQWF2NW85cWsrSQpXc2lmVVR4enRGY0VjUjVSS3p4N2wxaEIrMjZ4SVE3U0YrclNjKzl6Q002YlVPNVVzUzFzUlliMWFZOGIzOVdZCmxpYnlNdEg1Y0R6QkZKV2loVFFkSXl3SGowZFZXcm5JSWtJYVNLb1ZSdndHUHI1dFI0aFJaaDV3TVhpV05MbGsKRGRCbUZxWGgvRzBQU0Z1c3hkNEdIcGdTWUtyWk5pZ0FEZWc0ODd4bTY5d0twWXl3ME9DemVDZXRiUTQzOThaegppMlNHSmd3cXgwQUdJd2Q0MWczSDJBN0NSUDl2RUJTTmkzWVVpMWx4cHBLcnF3Q1Jmdk52TjFhL05vY0VZRVUvCklPNHU3dk9IOGRvQlp1V0QwVGpINllKV2h3d2FrWEs5T0wzckRtcXJuWUgzQTVxaGFjMzF2OTBrUWNXZHZ0ZGwKNW5HSm9xNXFFaXBQdVlQWWxwaVRKVmQ0YWRlSkdoU2VlVjR5TDVkNHdNUXJzbVc0NiswNkowWU5Yalp5WCsrdgprUDFENGxqdEE0S3JRODFnaTEyY2VnR3ZjZnNrbmNHNDZMa0dNL1BabTNvZDF5d1lYVklZUG9SaWZENDhhUDJNCkJFUmI0K2p0K3Zvdld2WEF1S3NtU3daM2lGUTZaNll5dE52SEpGRENqMEFhcHIwSG5pczNZdjlQTmJVQ0F3RUEKQVFLQ0FnRUF0QXdacktWR3cvSkx6dEdFWDNMWmlQR2FUdy9MMmIxdVhoYTBnSWZXbDdla0JKOE5ycm1IbkVGeAp2blJ6V3BVeDNzM0NmaDlDZlRxMURSZVd0a2t6d2wzdVFlMVM2aEZCN0NQa3U5Z0hOenEyVFR3TEJnbCt1SU5mCnBOa1dhc0tsSFRDUDhZSzlYQ2V1UytiMkNlczBsZ0t3TFNqbndZYksxb3FLVHRMVHhxTkFHTUtDQU93eU9nZkUKeThNRGNhbFVMM2pReGZpRzhROGFYbitEa0c0YmxHV043NTN5cXJuWFAyZjhMcGNhcWphdHdPdzdnaHVXdjhtWApmRVlhVnRPL3NzL29ETnJ4TFkycnRCR0pPdmkxb3Q4ajdzZEsxS0RyU1Z2cFBrZXB3RSt2OUY3a3lMM2VHclhtCmxENi9IcERtUUtkdldENHpJMjN6c0NjR2pnNkI2dDA3K1pVZWFCcEJoZG9hZy85ajJlcHhIYzZlY1diakRRMGMKRXFqQVlZQy92SXM5WWFFYzZmTU5vdnBCWlpSZXBxQjRPSU1FN0ZEeTFuQ0t3MDJzaHBaWlFSTzBsSG8yd0NwWQpsNzh6bGJSVWY3ciswbGppcXhMZ2MyaS9JdzNSY1lqdHJwdXRMcnBGZ1FILzZtNEtVNklKamFFSkhmMkw1TU1ICmZiUEwrSUpBU2RVMVBGdzJBa0NuUGtnV0I2NmZMbW9lTzRsWFJVWGdma3BZMmsvd1o4OXhIcjNhbXQwSlh4eHkKbmRYTUlkZ1MyU1VjQ21ObWJEWDUrSVY5MzFPekpHT0k1NDJFSkNwNnoyMFVHQk5ZdFRVd3dyS2RyNlRxQktYLwpOWEdQdHFHNU42eEZ4RmtPb0RkbnlGVXcyVHZrS054UTI2cFRBMWZoRXArWU50aC84UzBDZ2dFQkFONlRYeGVECks5RzE3Y2x0TU9wbkhIT1lIVEZnTjhBUktoL09GMSthRFA0dVF6R3JudXhyY1hwRlh3ODBrcDlibzk2T1ZQUFIKOExtZUEzcjkvTVJHa0RxNG8yOFQwT3g4NWQzZ29VMGVlUzZURnpWSy9xYnk0YUdnYUE5dHVBNWx6aTdnL2ZDdQpyTlh1NGdjY2gyWHZJcVVURmx0RE1tM21zZTNuT1pPcFc3WFU4aUs4bmlNUU81Qkk4N0hXWHczd01oSnczOWxKCkRUV09PTnlOaldDZGRoZHZYTkR3bHJud2dqRUx0UWU4NjNHdHdvZCtPZWE0aitjMi9rZVlldnBIbEovT3pXUGgKa0NMcnJYQ3JPdzNlc0l6YmlZSElzNWV6dDVrdWY3UTJlakVPSHEzWUU2MTdpUmZISFZmZXNWdTJ5TTZZUEp4dApWc2Iyd3RYcVJMVGd4WDhDZ2dFQkFOd2xMM2pmeFNORnpHZzZEcEw4NXB2eTdzVFlaTTdCekV3UXJndk51Mlh6Ck9sZ21yeGp6d1RIMHVjZHZqZUg2bHRFQkJhUDE0V2NtTmxpQUIzTEswYW5kbjNsaDBGbWR3dDV1RUN5aUlPbGgKWW9KY3hudGcxdFpUSnNtaGpLWTNmU3k1cFQ4bmpIMzJTRFl6QURsTVhFNFQzemVVQW1IaURzcXpUWndyZ2hGbAorbmhHZDBEQlRQbXQxdThXSHljVTdVSE9oMzZMM09nRmdqVDk0M2pKZlpOc3BNMjFMY09vczQ5eEF5c0IyTk1TCm44ODVZNnlXSTRwK3RlNmNzOW1lTDc4bjRYa3J4OS9JT1ptZElOMkJ6ZWNIaE9HNkhLMlFSdXZDY01LU21yRkIKanpVYkJXYk15MEFXaGdsR1dxejFwQnI0d1FhTjh4Z2VmZHRUUHVLZVpzc0NnZ0VCQUs3c2Y0V0pEMzBuVUJSSAovbk9hU2VBSElwcFZsanNhd2xKd3RDbnNkbDJsbWlXRlRjZGN3Ymhvb01iZ2VJTkprRVl1OGxFVkkrMmRZL3JiCmRqWURod0svYmFLMG5qUGVEUUlOc25kYmhiMjIyRHlJRGc3RFA5UzRyay9CMlM5bmoxMkVjYzhnV0xGaHByNFUKQzgxdTNYbUN3TVZFMEhOVEpXOWxrL2lhMTNyV090NVdBcXBuN1lmOTdaaE1kRFFPSEN3bURhZEZKRjU4d2UrRQpTQ0l3WGtrWXVvZHpMZUpBUlBHcTA4R2JGaWNuZW9UbURUZG93Wi9qdG9BcU5DeFM2Vm1YUEJCTmkrd0Y4UzlsClEyb3BJL1B2N2VmVUJtRXBXeGZHVlpNYVpYbjhNTnhMdjF0T2hYWHNoUUUwQVl1azRiaU1LTVovbi8yS25hRmwKRms1WmdKMENnZ0VCQUlzWEY0SllaNWJjbjhSdWdnek9xdWwzT1BLNEFpRThBdGRBWnFiZ2lubGtqc1ZwVTVJQgpXRncyMGpZMnZqODc4NVFFQUV0U3ErSmZHMUVaT3h1RkY2a3FkSHJkbVNVMTd3eFlIL0lEVWFZQ3VKbkRBa2lyCnE3Rm9nZ1k5QXI5MkthbGJkaE9MNmxFZmpRcHBlTWU2L2tyNmRUc0pVZVFFVHZJMURXRVJnREY3N0IrWDdmckUKNXR5TndGSDQrUi9aTWZvMUFoaXJSNXgwOW9xQ3F2a0MzVXVMQmlsT1FxYnZiTnZCUEk0c3NaRFNvSlB1SDVMSQpuWllBYnZSZW42ZHNNYUNtRXVoYkNBTFUzOGUxcGpFdHRTazE3L2dxZmJvUGdTK3QvMDZBRUNyVVVDWHVkNkEyCjNtZ1Vrd1ZESlVGSVJqSWdYdHpFVFFZOUphbXdVL2djdXJjQ2dnRUFLSzZPT2xGS1lhbFUrbmg5eVRnOFNIL0MKTXJDYjR0OHFlUUVvSysvdXlDSlQwYi9IQS9uV3R2WWZjVFlpTGFUWkp5dkVBWGhISnAzdHFJMSt5cFMyNVQrWApxVE0zTkpUQ3drM2dVUkYvZCtXalprNndLbzBRZytBV0RndnhEZlZLRmppZHA5dkhEaHNRYUpBYU5ES0s1UDVtClQ1c2RtY2Q4Y1dBL2lPYnpUcnhBM2F6Vmt1eVQ3ZnBUcURQVjZ1S3BaNUZLL1c1d1ZFYnNVdnJjem83U3hNbUMKSWx5NWYrenJFN1k2M1NCdE1FdTloUHRuOG1IcTVYOWdoSEZ6bFhodDdaNk5CYlBWUjBsL2tVNm9jd0tSVjMvUQpZZG96ckVlY1JJdElQS1FhRXMxbGhUQ1pOZm85YlZuK3h4SFVNc3ZIU2hwaU5NQzNQN3dnNTdtR0lGSUY0QT09Ci0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCg=="
            }
        }
    }
}